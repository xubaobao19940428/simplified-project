# ä½¿ç”¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å‡†å¤‡æ–‡ä»¶

ç¡®ä¿ä»¥ä¸‹æ–‡ä»¶éƒ½åœ¨ `simplified-project` ç›®å½•ä¸­ï¼š

**å¿…éœ€çš„æ ¸å¿ƒæ–‡ä»¶**ï¼ˆå·²åˆ›å»ºï¼‰ï¼š
- âœ… `config.js` - é…ç½®
- âœ… `render.js` - æ¸²æŸ“é€»è¾‘
- âœ… `abtest.js` - A/B æµ‹è¯•ï¼ˆå¯é€‰ï¼‰
- âœ… `iframe.html` - å¹¿å‘Šå®¹å™¨
- âœ… `index.html` - å¤–å±‚æ¡†æ¶

**éœ€è¦ä»åŸé¡¹ç›®å¤åˆ¶çš„æ–‡ä»¶**ï¼š
- âš ï¸ `feed-v2.html` - å®é™…çš„å¹¿å‘Šå†…å®¹ï¼ˆå¿…éœ€ï¼ï¼‰
- âš ï¸ `beacon.min.js` - è¿½è¸ªè„šæœ¬ï¼ˆå¯é€‰ï¼‰
- âš ï¸ `beacon(1).min.js` - è¿½è¸ªè„šæœ¬ï¼ˆå¯é€‰ï¼‰
- âš ï¸ `*.avif` - å›¾ç‰‡èµ„æºï¼ˆå¦‚æœ feed-v2.html ä¸­æœ‰ä½¿ç”¨ï¼‰

### 2. å¤åˆ¶å¿…è¦æ–‡ä»¶

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
cp feed-v2.html simplified-project/
cp *.avif simplified-project/  # å¦‚æœæœ‰å›¾ç‰‡èµ„æº
```

### 3. ä¿®æ”¹é…ç½®

#### ä¿®æ”¹ç›®æ ‡é“¾æ¥

ç¼–è¾‘ `render.js`ï¼Œæ‰¾åˆ°è¿™ä¸€è¡Œï¼š

```javascript
clickUrl = `https://ourdream.ai/create?ref=${encodeURIComponent(site)}&source=nsfw&variant=${encodeURIComponent(variant)}`
```

æ”¹ä¸ºä½ çš„ç›®æ ‡é“¾æ¥ï¼š

```javascript
clickUrl = `https://your-domain.com?ref=${encodeURIComponent(site)}&source=ad&variant=${encodeURIComponent(variant)}`
```

#### ä¿®æ”¹ feed-v2.html ä¸­çš„é“¾æ¥

åœ¨ `feed-v2.html` ä¸­æœç´¢æ‰€æœ‰ `ourdream.ai` å¹¶æ›¿æ¢ä¸ºä½ çš„åŸŸåã€‚

#### ä¿®æ”¹è¿½è¸ªç«¯ç‚¹ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½¿ç”¨è¿½è¸ªï¼Œç¼–è¾‘ `iframe.html`ï¼Œæ‰¾åˆ°è¿½è¸ªè„šæœ¬å¹¶ä¿®æ”¹ endpointã€‚

### 4. æµ‹è¯•

1. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `index.html` æˆ– `iframe.html`
2. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯
3. æµ‹è¯•ç‚¹å‡»åŠŸèƒ½æ˜¯å¦æ­£å¸¸

### 5. éƒ¨ç½²

å°†æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ åˆ°ä½ çš„æœåŠ¡å™¨æˆ– CDNã€‚

## ğŸ“‹ æ–‡ä»¶æ¸…å•

### å¿…é¡»éƒ¨ç½²çš„æ–‡ä»¶

```
simplified-project/
â”œâ”€â”€ config.js          âœ… å¿…éœ€
â”œâ”€â”€ render.js          âœ… å¿…éœ€
â”œâ”€â”€ abtest.js          âœ… å¿…éœ€ï¼ˆå³ä½¿ä¸ä½¿ç”¨ï¼‰
â”œâ”€â”€ iframe.html        âœ… å¿…éœ€
â”œâ”€â”€ index.html         âœ… å¿…éœ€
â””â”€â”€ feed-v2.html       âš ï¸ å¿…éœ€ï¼ˆéœ€è¦ä»åŸé¡¹ç›®å¤åˆ¶ï¼‰
```

### å¯é€‰æ–‡ä»¶

```
â”œâ”€â”€ beacon.min.js      âšª å¯é€‰ï¼ˆè¿½è¸ªç”¨ï¼‰
â”œâ”€â”€ beacon(1).min.js   âšª å¯é€‰ï¼ˆè¿½è¸ªç”¨ï¼‰
â””â”€â”€ *.avif             âšª å¯é€‰ï¼ˆå¦‚æœå¹¿å‘Šä¸­æœ‰å›¾ç‰‡ï¼‰
```

## ğŸ” æµ‹è¯• URL

### æµ‹è¯• SimpCity ç«™ç‚¹

```
iframe.html?site=0e81-844ee50c3eb5
iframe.html?site=c0e3-d880f95ee28f
```

### æµ‹è¯•é»˜è®¤é…ç½®

```
iframe.html
iframe.html?site=default
```

## âš™ï¸ å¸¸è§é—®é¢˜

### Q: å¹¿å‘Šæ˜¾ç¤ºç©ºç™½ï¼Ÿ

**A:** æ£€æŸ¥ï¼š
1. `feed-v2.html` æ˜¯å¦å­˜åœ¨
2. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
3. èµ„æºè·¯å¾„æ˜¯å¦æ­£ç¡®

### Q: ç‚¹å‡»æ²¡æœ‰è·³è½¬ï¼Ÿ

**A:** æ£€æŸ¥ï¼š
1. `render.js` ä¸­çš„ `clickUrl` æ˜¯å¦æ­£ç¡®
2. `feed-v2.html` ä¸­çš„ç‚¹å‡»é“¾æ¥æ˜¯å¦æ­£ç¡®
3. æµè§ˆå™¨æ˜¯å¦é˜»æ­¢äº†å¼¹çª—

### Q: å¦‚ä½•æ·»åŠ æ–°çš„ç«™ç‚¹ï¼Ÿ

**A:** åœ¨ `config.js` çš„ `PlacementConfig` ä¸­æ·»åŠ ï¼š

```javascript
'your-new-site-id': { 
  width: 300, 
  height: 250, 
  creative: 'feed-v2-300x250' 
}
```

### Q: å¦‚ä½•ä¿®æ”¹å¹¿å‘Šå°ºå¯¸ï¼Ÿ

**A:** åœ¨ `config.js` çš„ `PlacementConfig` ä¸­ä¿®æ”¹å¯¹åº”ç«™ç‚¹çš„ `width` å’Œ `height`ã€‚

## ğŸ”§ è‡ªå®šä¹‰é…ç½®ç¤ºä¾‹

### æ·»åŠ æ–°çš„å¹¿å‘Šåˆ›æ„

1. åˆ›å»ºæ–°çš„ HTML æ–‡ä»¶ï¼ˆå¦‚ `my-ad.html`ï¼‰
2. åœ¨ `config.js` ä¸­æ·»åŠ ï¼š

```javascript
window.Creatives = {
  // ... ç°æœ‰é…ç½®
  'my-ad-300x250': {
    variants: {
      'my-ad-v1': { iframe: './my-ad.html' }
    }
  }
};
```

3. åœ¨ `PlacementConfig` ä¸­å¼•ç”¨ï¼š

```javascript
window.PlacementConfig = {
  // ... ç°æœ‰é…ç½®
  'my-site-id': { width: 300, height: 250, creative: 'my-ad-300x250' }
};
```

## ğŸ“Š ç›‘æ§å’Œè°ƒè¯•

### æŸ¥çœ‹æ¸²æŸ“ä¿¡æ¯

æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ŒæŸ¥çœ‹ï¼š

```javascript
// æŸ¥çœ‹å½“å‰é…ç½®
console.log(window.PlacementConfig)
console.log(window.Creatives)

// æŸ¥çœ‹æ¸²æŸ“ä¿¡æ¯
console.log(window.iframeTestDebug)
```

### æ—¥å¿—è¾“å‡º

ç®€åŒ–ç‰ˆä¼šåœ¨æ§åˆ¶å°è¾“å‡ºæ¸²æŸ“ä¿¡æ¯ï¼š

```
æˆåŠŸæ¸²æŸ“åˆ›æ„: {
  site: "0e81-844ee50c3eb5",
  creative: "feed-v2-300x250",
  variant: "i-feed-v2",
  width: 300,
  height: 250,
  type: "iframe"
}
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶è·¯å¾„**ï¼šç¡®ä¿æ‰€æœ‰æ–‡ä»¶åœ¨åŒä¸€ç›®å½•æˆ–è·¯å¾„é…ç½®æ­£ç¡®
2. **è·¨åŸŸé—®é¢˜**ï¼šå¦‚æœä»ä¸åŒåŸŸååŠ è½½ï¼Œéœ€è¦é…ç½® CORS
3. **HTTPS**ï¼šæŸäº›åŠŸèƒ½ï¼ˆå¦‚ iframeï¼‰åœ¨ HTTPS ç¯å¢ƒä¸‹æ›´ç¨³å®š
4. **ç¼“å­˜**ï¼šä¿®æ”¹ä»£ç åå¯èƒ½éœ€è¦æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

## ğŸ¯ ä¸‹ä¸€æ­¥

- âœ… éƒ¨ç½²åˆ°æœåŠ¡å™¨
- âœ… é…ç½®åŸŸåå’Œ HTTPS
- âœ… è®¾ç½®è¿½è¸ªï¼ˆå¦‚éœ€è¦ï¼‰
- âœ… ç›‘æ§å¹¿å‘Šå±•ç¤ºå’Œç‚¹å‡»


