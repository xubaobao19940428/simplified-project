# æœ¬åœ°æµ‹è¯• iframe çš„æ–¹æ³•

## ğŸš€ æ–¹æ³•ä¸€ï¼šç›´æ¥ç”¨æµè§ˆå™¨æ‰“å¼€ï¼ˆæœ€ç®€å•ï¼‰

### æµ‹è¯• iframe å®¹å™¨

ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼š
```
file:///Users/qian/Documents/IMSpot Frame_files/simplified-project/iframe.html
```

æˆ–è€…åŒå‡» `iframe.html` æ–‡ä»¶

### æµ‹è¯•å¸¦ç«™ç‚¹å‚æ•°

åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ï¼š
```
file:///Users/qian/Documents/IMSpot Frame_files/simplified-project/iframe.html?site=0e81-844ee50c3eb5
```

### æµ‹è¯•å¤–å±‚æ¡†æ¶

æ‰“å¼€ï¼š
```
file:///Users/qian/Documents/IMSpot Frame_files/simplified-project/index.html
```

---

## ğŸŒ æ–¹æ³•äºŒï¼šä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨ï¼ˆæ¨èï¼Œé¿å…è·¨åŸŸé—®é¢˜ï¼‰

### ä½¿ç”¨ Pythonï¼ˆMac è‡ªå¸¦ï¼‰

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/qian/Documents/IMSpot\ Frame_files/simplified-project

# Python 3
python3 -m http.server 8000

# æˆ– Python 2
python -m SimpleHTTPServer 8000
```

ç„¶ååœ¨æµè§ˆå™¨æ‰“å¼€ï¼š
```
http://localhost:8000/iframe.html
http://localhost:8000/iframe.html?site=0e81-844ee50c3eb5
http://localhost:8000/index.html
```

### ä½¿ç”¨ Node.js http-server

```bash
# å®‰è£…ï¼ˆå¦‚æœè¿˜æ²¡å®‰è£…ï¼‰
npm install -g http-server

# å¯åŠ¨æœåŠ¡å™¨
cd /Users/qian/Documents/IMSpot\ Frame_files/simplified-project
http-server -p 8000
```

### ä½¿ç”¨ VS Code Live Server

1. å®‰è£… "Live Server" æ‰©å±•
2. å³é”®ç‚¹å‡» `iframe.html`
3. é€‰æ‹© "Open with Live Server"

---

## ğŸ“ æµ‹è¯• URL ç¤ºä¾‹

### æµ‹è¯• SimpCity ç«™ç‚¹ï¼ˆiframe åˆ›æ„ï¼‰

```
http://localhost:8000/iframe.html?site=0e81-844ee50c3eb5
http://localhost:8000/iframe.html?site=c0e3-d880f95ee28f
```

**é¢„æœŸç»“æœ**ï¼šåº”è¯¥æ˜¾ç¤º `feed-v2.html` çš„ä¿¡æ¯æµï¼ˆå¯ä»¥æ»‘åŠ¨çœ‹å¤šä¸ªè§†é¢‘ï¼‰

### æµ‹è¯•é»˜è®¤é…ç½®ï¼ˆè§†é¢‘åˆ›æ„ï¼‰

```
http://localhost:8000/iframe.html
http://localhost:8000/iframe.html?site=default
```

**é¢„æœŸç»“æœ**ï¼šåº”è¯¥æ˜¾ç¤ºä¸€ä¸ªç®€å•çš„ MP4 è§†é¢‘

### æµ‹è¯•å¤–å±‚æ¡†æ¶

```
http://localhost:8000/index.html?site=0e81-844ee50c3eb5
```

---

## ğŸ” æ£€æŸ¥æ¸…å•

### âœ… ç¡®è®¤æ–‡ä»¶éƒ½åœ¨

ç¡®ä¿ä»¥ä¸‹æ–‡ä»¶åœ¨åŒä¸€ç›®å½•ï¼š
- âœ… `iframe.html`
- âœ… `index.html`
- âœ… `feed-v2.html`
- âœ… `config.js`
- âœ… `render.js`
- âœ… `abtest.js`

### âœ… æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°

æŒ‰ `F12` æˆ– `Cmd+Option+I` æ‰“å¼€æ§åˆ¶å°ï¼ŒæŸ¥çœ‹ï¼š

1. **æ˜¯å¦æœ‰é”™è¯¯**ï¼šçº¢è‰²é”™è¯¯ä¿¡æ¯
2. **æ¸²æŸ“æ—¥å¿—**ï¼šåº”è¯¥çœ‹åˆ° "æˆåŠŸæ¸²æŸ“åˆ›æ„" çš„æ—¥å¿—
3. **ç½‘ç»œè¯·æ±‚**ï¼šæ£€æŸ¥ `feed-v2.html` æ˜¯å¦åŠ è½½æˆåŠŸ

### âœ… é¢„æœŸæ—¥å¿—è¾“å‡º

å¦‚æœæ­£å¸¸ï¼Œæ§åˆ¶å°åº”è¯¥æ˜¾ç¤ºï¼š
```
æˆåŠŸæ¸²æŸ“åˆ›æ„: {
  site: "0e81-844ee50c3eb5",
  creative: "feed-v2-300x250",
  variant: "i-feed-v2",
  width: 300,
  height: 250,
  type: "iframe"
}
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### é—®é¢˜ 1ï¼šæ˜¾ç¤ºç©ºç™½

**åŸå› **ï¼š
- `feed-v2.html` è·¯å¾„ä¸å¯¹
- æ–‡ä»¶æ²¡åœ¨åŒä¸€ç›®å½•

**è§£å†³**ï¼š
- æ£€æŸ¥ `config.js` ä¸­çš„è·¯å¾„ï¼š`iframe: './feed-v2.html'`
- ç¡®ä¿ `feed-v2.html` åœ¨ `simplified-project` ç›®å½•ä¸‹

### é—®é¢˜ 2ï¼šè·¨åŸŸé”™è¯¯ï¼ˆCORSï¼‰

**åŸå› **ï¼šç›´æ¥ç”¨ `file://` åè®®æ‰“å¼€

**è§£å†³**ï¼šä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨ï¼ˆæ–¹æ³•äºŒï¼‰

### é—®é¢˜ 3ï¼šæ˜¾ç¤ºè§†é¢‘è€Œä¸æ˜¯ iframe

**åŸå› **ï¼šç«™ç‚¹ ID ä¸åŒ¹é…ï¼Œä½¿ç”¨äº†é»˜è®¤é…ç½®

**è§£å†³**ï¼š
- æ£€æŸ¥ URL ä¸­çš„ `site` å‚æ•°æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥ `config.js` ä¸­çš„ç«™ç‚¹ ID æ˜¯å¦åŒ¹é…

### é—®é¢˜ 4ï¼šæ§åˆ¶å°æŠ¥é”™ "æœªæ‰¾åˆ°å®¹å™¨å…ƒç´ "

**åŸå› **ï¼š`render.js` æ‰§è¡Œæ—¶ `iframe.html` ä¸­çš„å®¹å™¨è¿˜æ²¡åŠ è½½å®Œ

**è§£å†³**ï¼šç¡®ä¿è„šæœ¬åœ¨ DOM åŠ è½½åæ‰§è¡Œï¼ˆå·²ç»åšäº†ï¼‰

---

## ğŸ¯ å¿«é€Ÿæµ‹è¯•è„šæœ¬

åˆ›å»ºä¸€ä¸ª `test.html` ç”¨äºå¿«é€Ÿæµ‹è¯•ï¼š

```html
<!DOCTYPE html>
<html>
<head>
    <title>æµ‹è¯•é¡µé¢</title>
</head>
<body>
    <h1>æµ‹è¯• iframe å¹¿å‘Š</h1>
    
    <!-- æµ‹è¯• SimpCity -->
    <h2>SimpCity ç«™ç‚¹ï¼ˆiframe åˆ›æ„ï¼‰</h2>
    <iframe src="iframe.html?site=0e81-844ee50c3eb5" width="300" height="250" style="border: 2px solid red;"></iframe>
    
    <br><br>
    
    <!-- æµ‹è¯•é»˜è®¤ -->
    <h2>é»˜è®¤é…ç½®ï¼ˆè§†é¢‘åˆ›æ„ï¼‰</h2>
    <iframe src="iframe.html" width="300" height="250" style="border: 2px solid blue;"></iframe>
</body>
</html>
```

ä¿å­˜ä¸º `test.html`ï¼Œç„¶ååœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æµ‹è¯•ã€‚


