# 渲染逻辑说明：为什么有的展示视频，有的展示 iframe？

## 📊 两种创意类型

### 1. 视频创意（`video`）

**配置示例**：
```javascript
'default': {
  variants: {
    '300x250-general': { 
      video: 'https://static.ourdream.ai/300x250-GENERAL.mp4'  // 👈 这里配置视频 URL
    }
  }
}
```

**效果**：
- 直接播放一个 MP4 视频文件
- 视频点击后跳转到目标链接
- **简单、直接、加载快**

**适用场景**：
- 简单的视频广告
- 不需要交互的场景
- 只需要展示一个视频然后跳转

---

### 2. iframe 创意（`iframe`）

**配置示例**：
```javascript
'feed-v2-300x250': {
  variants: {
    'i-feed-v2': { 
      iframe: './feed-v2.html'  // 👈 这里配置 HTML 页面路径
    }
  }
}
```

**效果**：
- 嵌入一个完整的 HTML 页面（如 `feed-v2.html`）
- 这个 HTML 页面可以包含：
  - 多个视频
  - 复杂的交互（滑动、点击、弹窗）
  - 动态内容生成
  - 追踪逻辑
- **复杂、交互性强、功能丰富**

**适用场景**：
- 需要多个视频的信息流
- 需要复杂交互的广告
- 需要动态内容的场景

---

## 🔄 判断逻辑

在 `render.js` 中的判断流程：

```javascript
if (creative.iframe) {
  // ✅ 如果配置了 iframe，就渲染 iframe
  // 嵌入 feed-v2.html 等 HTML 页面
} else if (creative.video) {
  // ✅ 如果配置了 video，就渲染视频
  // 直接播放 MP4 文件
}
```

**判断依据**：
- 看 `config.js` 中的创意配置
- 如果有 `iframe: './xxx.html'` → 渲染 iframe
- 如果有 `video: 'https://xxx.mp4'` → 渲染视频

---

## 📝 你的配置分析

### SimpCity 站点使用 iframe

```javascript
'0e81-844ee50c3eb5': { 
  width: 300, 
  height: 250, 
  creative: 'feed-v2-300x250'  // 👈 引用这个创意
}
```

```javascript
'feed-v2-300x250': {
  variants: {
    'i-feed-v2': { 
      iframe: './feed-v2.html'  // 👈 使用 iframe 创意
    }
  }
}
```

**结果**：SimpCity 站点会展示 `feed-v2.html` 这个信息流页面

---

### 默认配置使用视频

```javascript
'default': { 
  width: 300, 
  height: 250, 
  creative: 'default'  // 👈 引用这个创意
}
```

```javascript
'default': {
  variants: {
    '300x250-general': { 
      video: 'https://static.ourdream.ai/300x250-GENERAL.mp4'  // 👈 使用视频创意
    }
  }
}
```

**结果**：如果没有匹配到站点配置，会展示一个简单的 MP4 视频

---

## 🎯 为什么这样设计？

### 优势

1. **灵活性**：可以根据不同站点/需求选择不同展示方式
   - 简单场景 → 视频创意（加载快）
   - 复杂场景 → iframe 创意（功能强）

2. **统一管理**：所有创意类型都在 `config.js` 中统一配置

3. **易于扩展**：添加新创意只需在配置中加一行

---

## 🔧 如何修改？

### 如果你想全部改成视频

修改 `config.js`：

```javascript
'feed-v2-300x250': {
  variants: {
    'i-feed-v2': { 
      // 把 iframe 改成 video
      video: 'https://your-cdn.com/your-video.mp4'
    }
  }
}
```

### 如果你想全部改成 iframe

确保所有创意配置都使用 `iframe`：

```javascript
'default': {
  variants: {
    '300x250-general': { 
      // 把 video 改成 iframe
      iframe: './your-page.html'
    }
  }
}
```

---

## 📋 总结

| 创意类型 | 配置字段 | 展示内容 | 适用场景 |
|---------|---------|---------|---------|
| **视频** | `video: 'xxx.mp4'` | 单个 MP4 视频 | 简单展示，快速加载 |
| **iframe** | `iframe: './xxx.html'` | HTML 页面（可包含多个视频、交互） | 复杂交互，信息流 |

**你的 SimpCity 站点**：
- 使用的是 **iframe 创意**（`feed-v2.html`）
- 所以会展示完整的信息流页面（可以滑动看多个视频）

**默认回退**：
- 使用的是 **视频创意**
- 如果没有匹配到站点，会展示一个简单视频

---

## ❓ 常见问题

**Q: 为什么 SimpCity 用 iframe 而不用视频？**

A: 因为 `feed-v2.html` 提供了复杂的信息流功能：
- 多个视频可以滑动切换
- 有弹窗提示
- 有追踪逻辑
- 有交互按钮

单个视频无法实现这些功能。

**Q: 可以两个都用视频吗？**

A: 可以！修改 `config.js`，把所有 `iframe` 都改成 `video`。但你会失去 `feed-v2.html` 的复杂功能。

**Q: 可以两个都用 iframe 吗？**

A: 可以！但你需要为默认配置也创建一个 HTML 页面。


